# T4-06: Backend Kubernetes Secret
# Spec Reference: spec.md FR-5.2, data-model.md Backend Resources
# Plan Reference: plan.md Section 9

apiVersion: v1
kind: Secret
metadata:
  name: {{ include "todo-backend.fullname" . }}-secret
  labels:
    {{- include "todo-backend.labels" . | nindent 4 }}
type: Opaque
stringData:
  database-url: {{ .Values.env.DATABASE_URL | quote }}
  better-auth-secret: {{ .Values.env.BETTER_AUTH_SECRET | quote }}
  {{- if .Values.env.OPENAI_API_KEY }}
  openai-api-key: {{ .Values.env.OPENAI_API_KEY | quote }}
  {{- end }}
